* Project Stoa

** Project Status
*** [ ] create a malleable language framework for exploring language ideas
:in-progress:
🤣 if you aren't me, why are you here?

** Build Status
#+begin_src sh :exports both :results verbatim
make build
#+end_src

#+RESULTS:
: npx tsup --keep-names --no-splitting \
: 	         --out-dir ./bin src/stoa.ts
: CLI Building entry: src/stoa.ts
: CLI Using tsconfig: tsconfig.json
: CLI tsup v6.1.2
: CLI Target: node14
: CJS Build start
: CJS ⚡️ Build success in 63ms
: CJS bin/stoa.js 161.78 KB

** Usage Documentation
#+begin_src sh :exports both :results verbatim
./bin/stoa --help
#+end_src

#+RESULTS:
#+begin_example
Usage: node ./bin/stoa.js [options] [file]
Show this help message
    --help
prints version info and exits
    -v
prints parse tree and exits
    -p
prints tokens and exits
    -t

#+end_example

** Current Version
#+begin_src sh :exports both :results verbatim
./bin/stoa -v
#+end_src

#+RESULTS:
: stoa-2022.07.20

** Code Structure
#+begin_src shell :results none
make graph
#+end_src

[[./dependency-graph.png]]


** Test Suite Status
#+begin_src sh :exports both :results verbatim
make test
#+end_src

#+RESULTS:
#+begin_example
./bin/test-tokenizer.sh
Testing tokenizer snapshots
✔ arithmetic.stoa
✔ closures.stoa
✔ divide-by-zero.stoa
✔ fib.stoa
✔ functions.stoa
✔ global-redefine.stoa
✔ hello-world.stoa
✔ literals.stoa
✔ name.stoa
✔ same-names.stoa
✔ scope.stoa
✔ semantic-return.stoa
✔ sticky-precision.stoa
Passing: 13 Failing: 0

./bin/test-parser.sh
Snapshotting the parse tree
✔ arithmetic.stoa
✔ closures.stoa
✔ divide-by-zero.stoa
✔ fib.stoa
✔ functions.stoa
✔ global-redefine.stoa
✔ hello-world.stoa
✔ literals.stoa
✔ name.stoa
✔ same-names.stoa
✔ scope.stoa
✔ semantic-return.stoa
✔ sticky-precision.stoa
Passing: 13 Failing: 0

./bin/test-evaluator.sh
Testing the evaluator (with parse errors)
✔ arithmetic.stoa
✔ closures.stoa
❌ divide-by-zero.stoa
diff <(divide-by-zero.stoa) divide-by-zero.stoa.stdout.txt
1c1
< Runtime error in ./divide-by-zero.stoa at line,col 3,9
---
> Runtime error in ./tests/divide-by-zero.stoa at line,col 3,9
✔ fib.stoa
✔ functions.stoa
✔ global-redefine.stoa
✔ hello-world.stoa
✔ literals.stoa
✔ name.stoa
✔ same-names.stoa
✔ scope.stoa
✔ semantic-return.stoa
✔ sticky-precision.stoa
Passing: 12 Failing: 1
#+end_example

** Potential Goals
- full stack from sql to hover effects
- lsp compatible
- actually use it to create
- minimize user function writing with string/date/number primitives

* ...
** build
src_elisp[:results none]{(save-excursion (org-goto-line 1) (org-babel-execute-subtree))}
** clean
src_elisp[:results none]{(save-excursion (org-goto-line 1) (+org/remove-result-blocks t))}
