#!/usr/bin/env stox

class Breakfast {
  cook(food) {
    print "Fried eggs and " + food + ".";
  }
  serve(who) {
    print "Enjoy, " + who + ".";
  }
}

class Bagel {}
var bagel = Bagel();

bagel.isReady = false;
print bagel.isReady ? "Bagel is ready" : "... still toasting...";
bagel.isReady = true;
print bagel.isReady ? "Bagel is ready" : "... still toasting...";

class Standard {}

var object = Standard();
object.name = "Standard";
object.meal = Breakfast();

var newBagel = Bagel();
object.meal.toast = newBagel;

object.meal.toast.isReady = false;
print newBagel.isReady ? "Bagel is ready" : "... still toasting...";
newBagel.isReady = true;
print object.meal.toast.isReady ? "Bagel is ready" : "... still toasting...";

object.meal.cook(object.meal.toast);
object.meal.serve('customer');

class Bacon { eat() { print "Crunch crunch crunch"; } }
Bacon().eat();
